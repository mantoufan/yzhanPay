(self.webpackChunkyzhanpay=self.webpackChunkyzhanpay||[]).push([[483],{7260:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(7294),o=n(2622),a=n(2788),s=n(1772),c=n(7569);const i={login:function(e){var t=e.username,n=e.password,r=new Request("https://pay.os120.com/api/authenticate",{method:"POST",body:JSON.stringify({username:t,password:n}),headers:new Headers({"Content-Type":"application/json"})});return fetch(r).then((function(e){if(e.status<200||e.status>=300)throw new Error(e.statusText);return e.json()})).then((function(e){localStorage.setItem("auth",JSON.stringify(e))})).catch((function(){throw new Error("Network error")}))},checkAuth:function(){return localStorage.getItem("auth")?Promise.resolve():Promise.reject()},logout:function(){return localStorage.removeItem("auth"),Promise.resolve()}};var u=n(6516);const h={en:{notification:{login:{wrong:"Wrong account and password"}}},zh:{notification:{login:{wrong:"错误用户名和密码"}}}};var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.headers||(t.headers=new Headers({Accept:"application/json"}));var n=JSON.parse(localStorage.getItem("auth")),r=n.token;return t.headers.set("Authorization","Bearer ".concat(r)),fetchUtils.fetchJson(e,t)},d=(0,u.Z)((function(e){return h[e]||h.en}),(0,o.T)());const p=function(){return r.createElement(a.Z,{authProvider:i,dataProvider:(0,c.Z)("https://jsonplaceholder.typicode.com",l),i18nProvider:d},r.createElement(s.Z,{name:"index"}))}},4654:()=>{}}]);
//# sourceMappingURL=65ffba507bc2a2b83f63.js.map