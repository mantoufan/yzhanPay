{"version":3,"file":"assets/js/65ffba507bc2a2b83f63.js","mappings":"uLACA,SACCA,MADc,YACiB,IAAtBC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,SACZC,EAAU,IAAIC,QAAQC,yCAA2B,CACtDC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CAAER,SAAAA,EAAUC,SAAAA,IACjCQ,QAAS,IAAIC,QAAQ,CAAE,eAAgB,uBAExC,OAAOC,MAAMT,GACXU,MAAK,SAAAC,GACL,GAAIA,EAASC,OAAS,KAAOD,EAASC,QAAU,IAC/C,MAAM,IAAIC,MAAMF,EAASG,YAE1B,OAAOH,EAASI,UAEhBL,MAAK,SAAAM,GACLC,aAAaC,QAAQ,OAAQb,KAAKC,UAAUU,OARvC,OAUC,WACN,MAAM,IAAIH,MAAM,qBAGnBM,UArBc,WAsBb,OAAOF,aAAaG,QAAQ,QAAUC,QAAQC,UAAYD,QAAQE,UAEnEC,OAxBc,WA0Bb,OADAP,aAAaQ,WAAW,QACjBJ,QAAQC,Y,cC3BjB,SACEI,GAAI,CACFC,aAAc,CACZ9B,MAAO,CACL+B,MAAO,gCAIbC,GAAI,CACFF,aAAc,CACZ9B,MAAO,CACL+B,MAAO,eCJf,IAAME,EAAa,SAACC,GAAsB,IAAjBC,EAAiB,uDAAP,GAC7BA,EAAQzB,UACXyB,EAAQzB,QAAU,IAAIC,QAAQ,CAAEyB,OAAQ,sBAE1C,MAAkB5B,KAAK6B,MAAMjB,aAAaG,QAAQ,SAA1Ce,EAAR,EAAQA,MAER,OADAH,EAAQzB,QAAQ6B,IAAI,gBAApB,iBAA+CD,IACxCE,WAAWC,UAAUP,EAAKC,IAG5BO,GAAeC,EAAAA,EAAAA,IAAqB,SAAAC,GAAM,OAAIC,EAAKD,IAAWC,EAAKhB,MAAIiB,EAAAA,EAAAA,MAE7E,mBAAe,OAAM,gBAACC,EAAA,EAAD,CAAOC,aAAcA,EAAcC,cAAcC,EAAAA,EAAAA,GAAmB,uCAAwCjB,GAAaS,aAAcA,GAC3J,gBAACS,EAAA,EAAD,CAAUC,KAAK,a","sources":["webpack://yzhanpay/./src/pages/Admin/authProvider.jsx","webpack://yzhanpay/./src/language/i18n.js","webpack://yzhanpay/./src/pages/Admin/Admin.jsx"],"sourcesContent":["import { PATH_API } from '@/config'\nexport default {\n\tlogin ({ username, password }) {\n\t\tconst request = new Request(PATH_API + 'authenticate', {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({ username, password }),\n\t\t\theaders: new Headers({ 'Content-Type': 'application/json' }),\n\t\t})\n\t\treturn fetch(request)\n\t\t\t.then(response => {\n\t\t\t\tif (response.status < 200 || response.status >= 300) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t})\n\t\t\t.then(auth => {\n\t\t\t\tlocalStorage.setItem('auth', JSON.stringify(auth))\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tthrow new Error('Network error')\n\t\t\t})\n\t},\n\tcheckAuth () {\n\t\treturn localStorage.getItem('auth') ? Promise.resolve() : Promise.reject()\n\t},\n\tlogout () {\n\t\tlocalStorage.removeItem('auth')\n\t\treturn Promise.resolve()\n\t}\n}","export default {\n  en: {\n    notification: {\n      login: {\n        wrong: 'Wrong account and password'\n      }\n    }\n  },\n  zh: {\n    notification: {\n      login: {\n        wrong: '错误用户名和密码'\n      }\n    }\n  }\n}","import React from 'react'\nimport { Admin, Resource, resolveBrowserLocale } from 'react-admin'\nimport jsonServerProvider from 'ra-data-json-server'\nimport authProvider from './authProvider'\nimport polyglotI18nProvider from 'ra-i18n-polyglot'\nimport i18n from '@/language/i18n'\n\nconst httpClient = (url, options = {}) => {\n\tif (!options.headers) {\n\t\t\toptions.headers = new Headers({ Accept: 'application/json' })\n\t}\n\tconst { token } = JSON.parse(localStorage.getItem('auth'))\n\toptions.headers.set('Authorization', `Bearer ${token}`)\n\treturn fetchUtils.fetchJson(url, options)\n}\n\nconst i18nProvider = polyglotI18nProvider(locale => i18n[locale] || i18n.en, resolveBrowserLocale())\n\nexport default () => <Admin authProvider={authProvider} dataProvider={jsonServerProvider('https://jsonplaceholder.typicode.com', httpClient)} i18nProvider={i18nProvider} >\n\t<Resource name=\"index\" />\n</Admin>"],"names":["login","username","password","request","Request","PATH_API","method","body","JSON","stringify","headers","Headers","fetch","then","response","status","Error","statusText","json","auth","localStorage","setItem","checkAuth","getItem","Promise","resolve","reject","logout","removeItem","en","notification","wrong","zh","httpClient","url","options","Accept","parse","token","set","fetchUtils","fetchJson","i18nProvider","polyglotI18nProvider","locale","i18n","resolveBrowserLocale","Admin","authProvider","dataProvider","jsonServerProvider","Resource","name"],"sourceRoot":""}