(self.webpackChunkyzhanpay=self.webpackChunkyzhanpay||[]).push([[725],{4210:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var o=n(7294),r=n(8686),a=n(1772),i=n(7569),s=n(2622),c=n(6516),u=n(9106),h=n(5797),l=n.n(h);const d={en:Object.assign(u.Z,{notification:{login:{wrong:"Wrong account and password"}}}),zh:Object.assign(l(),{notification:{login:{wrong:"错误用户名和密码"}}})},f=(0,c.Z)((function(e){return d[e]||d.en}),(0,s.T)()),g={login:function(e){var t=e.username,n=e.password,o=new Request("https://pay.os120.com/api/authenticate",{method:"POST",body:JSON.stringify({username:t,password:n}),headers:new Headers({"Content-Type":"application/json"})});return fetch(o).then((function(e){if(e.status<200||e.status>=300)throw new Error(translate("notification.login.wrong"));return e.json()})).then((function(e){localStorage.setItem("auth",JSON.stringify(e))})).catch((function(){throw new Error(f.translate("notification.login.wrong"))}))},checkAuth:function(){return localStorage.getItem("auth")?Promise.resolve():Promise.reject()},logout:function(){return localStorage.removeItem("auth"),Promise.resolve()}};var p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.headers||(t.headers=new Headers({Accept:"application/json"}));var n=JSON.parse(localStorage.getItem("auth")),o=n.token;return t.headers.set("Authorization","Bearer ".concat(o)),fetchUtils.fetchJson(e,t)};const m=function(){return o.createElement(r.Z,{authProvider:g,dataProvider:(0,i.Z)("https://jsonplaceholder.typicode.com",p),i18nProvider:f},o.createElement(a.Z,{name:"index"}))}},4654:()=>{}}]);
//# sourceMappingURL=656fcf5b86be85e322e7.js.map